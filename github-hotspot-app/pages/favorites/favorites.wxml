<!-- pages/favorites/favorites.wxml -->
<view class="container">
  <view class="header">
    <view class="title">我的收藏</view>
    <view class="clear-btn" bindtap="clearAllFavorites" wx:if="{{!isEmpty}}">清空</view>
  </view>
  
  <!-- 收藏列表 -->
  <view class="favorites-list">
    <block wx:if="{{favorites.length > 0}}">
      <repo-card 
        wx:for="{{favorites}}" 
        wx:key="id" 
        repo="{{item}}" 
        isFavorited="{{true}}"
        bind:favoriteChange="onFavoriteChange">
      </repo-card>
      
      <!-- 管理按钮 -->
      <view class="manage-bar">
        <button class="manage-btn" bindtap="clearAllFavorites">
          <image class="btn-icon" src="../../images/trash.png" mode="aspectFit"></image>
          <text>清空收藏</text>
        </button>
      </view>
    </block>
    
    <!-- 空收藏提示 -->
    <view class="empty-tip" wx:if="{{isEmpty}}">
      <image src="../../images/empty_favorite.png" mode="aspectFit"></image>
      <text>还没有收藏任何仓库</text>
      <button class="primary" bindtap="navigateToIndex">去首页看看</button>
    </view>
  </view>
</view> 