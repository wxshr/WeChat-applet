<!-- pages/trending/trending.wxml -->
<view class="container">
  <!-- 时间范围筛选 -->
  <view class="time-filter">
    <view class="filter-option {{timeRange === 'daily' ? 'active' : ''}}" 
          data-time="daily" 
          bindtap="onTimeChange">
      今日
    </view>
    <view class="filter-option {{timeRange === 'weekly' ? 'active' : ''}}" 
          data-time="weekly" 
          bindtap="onTimeChange">
      本周
    </view>
    <view class="filter-option {{timeRange === 'monthly' ? 'active' : ''}}" 
          data-time="monthly" 
          bindtap="onTimeChange">
      本月
    </view>
  </view>
  
  <!-- 语言筛选 -->
  <scroll-view scroll-x class="language-filter">
    <view class="filter-item {{trendingLanguage === item.value ? 'active' : ''}}" 
          wx:for="{{languages}}" 
          wx:key="value" 
          data-language="{{item.value}}" 
          bindtap="onLanguageChange">
      {{item.name}}
    </view>
  </scroll-view>
  
  <!-- 趋势仓库列表 -->
  <view class="trending-list">
    <block wx:if="{{trending.length > 0}}">
      <repo-card 
        wx:for="{{trending}}" 
        wx:key="id" 
        repo="{{item}}" 
        isFavorited="{{item.isFavorited}}"
        bind:favoriteChange="onFavoriteChange">
      </repo-card>
    </block>
    
    <!-- 加载中 -->
    <view class="loading" wx:if="{{isLoading}}">
      <view class="loading-icon"></view>
      <text>加载中...</text>
    </view>
    
    <!-- 无数据提示 -->
    <view class="empty-tip" wx:if="{{!isLoading && trending.length === 0}}">
      <image src="../../images/empty.png" mode="aspectFit"></image>
      <text>暂无数据</text>
    </view>
    
    <!-- 加载更多提示 -->
    <view class="footer-tip" wx:if="{{!isLoading && hasMore && trending.length > 0}}">
      <text>上拉加载更多</text>
    </view>
    
    <!-- 已加载全部提示 -->
    <view class="footer-tip" wx:if="{{!isLoading && !hasMore && trending.length > 0}}">
      <text>已加载全部</text>
    </view>
  </view>
</view> 